<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        canvas {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="800" height="500" style="border: 1px solid #000;"></canvas>
    <!-- <script src="js/Land.js"></script>
    <script>
        var cs = document.querySelector('canvas');
        var ctx = cs.getContext('2d');
        var img = new Image();
        img.onload = function () {
            var num = Math.ceil(cs.width / img.width) + 1;
            var landArr = [];
            for (var i = 0; i < num; i ++) {
                var land = new Land({
                    ctx: ctx,
                    img: img,
                    index: i
                });
                landArr.push(land);
            }
            setInterval(function () {
                for (var i = 0; i < landArr.length; i++) {
                    landArr[i].render();
                }
            }, 20);
            //闭包
            // for (var i = 0; i < num; i++) {
            //     function out() {
            //         var land = new Land({
            //             ctx: ctx,
            //             img: img,
            //             index: i
            //         });
            //         return setInterval(function () {
            //             land.render();
            //         },20);
            //     }
            //     out();
            // }

            // var land1 = new Land({
            //     ctx: ctx,
            //     img: img,
            //     index: 0
            // });
            // var land2 = new Land({
            //     ctx: ctx,
            //     img: img,
            //     index: 1
            // });
            // var land3 = new Land({
            //     ctx: ctx,
            //     img: img,
            //     index: 2
            // });
            // var land4 = new Land({
            //     ctx: ctx,
            //     img: img,
            //     index: 3
            // });
            // setInterval(function () {
            //     ctx.clearRect(0, 0, cs.width, cs.height);
            //     land.render();
            //     land2.render();
            //     land3.render();
            //     land4.render();
            // }, 50);
        }
        img.src = 'imgs/land.png';
    </script> -->
    <!-- <script src="js/Bird.js"></script>
    <script type="text/javascript">
        var cs =document.querySelector('canvas');
        var ctx = cs.getContext('2d');
        var img = new Image();
        var startTime = new Date();
        var endTime = 0;
        var dValue = 0;
        img.onload = function () {
            var bird = new Bird({
                ctx: ctx,
                img: img
            });
            setInterval(function () {
                endTime = new Date();
                dValue = endTime - startTime;
                startTime = endTime;
                ctx.clearRect(0, 0, cs.width, cs.height);
                bird.render(dValue);
            }, 50);
        }
        img.src = 'imgs/birds.png';
    </script> -->
    <!-- <script src="js/Sky.js"></script>
    <script type="text/javascript">
        var cs = document.querySelector('canvas');
        var ctx = cs.getContext('2d');
        var img = new Image();
        img.src = 'imgs/sky.png';
        img.onload = function () {
            var sky1 = new Sky({
                ctx: ctx,
                img: img,
                index: 0
            });
            var sky2 = new Sky({
                ctx: ctx,
                img: img,
                index: 1
            });
            var sky3 = new Sky({
                ctx: ctx,
                img: img,
                index: 2
            });
            setInterval(function () {
                ctx.clearRect(0, 0, cs.width, cs.height);
                sky1.render();
                sky2.render();
                sky3.render();
            }, 30);
        }
    </script> -->
    <!-- <script src="js/Pipe.js"></script>
    <script type="text/javascript">
        var cs = document.querySelector('canvas');
        var ctx = cs.getContext('2d');
        var upImg = new Image();
        upImg.src = 'imgs/pipe2.png';
        var downImg = new Image();
        downImg.src = 'imgs/pipe1.png';
        upImg.onload = function () {
            var pipe1 = new Pipe({
                ctx: ctx,
                upImg: upImg,
                downImg: downImg,
                index: 0
            });
            var pipe2 = new Pipe({
                ctx: ctx,
                upImg: upImg,
                downImg: downImg,
                index: 1
            });
            var pipe3 = new Pipe({
                ctx: ctx,
                upImg: upImg,
                downImg: downImg,
                index: 2
            });
            var pipe4 = new Pipe({
                ctx: ctx,
                upImg: upImg,
                downImg: downImg,
                index: 3
            });
            var pipe5 = new Pipe({
                ctx: ctx,
                upImg: upImg,
                downImg: downImg,
                index: 4
            });
            setInterval(function () {
                ctx.clearRect(0, 0, cs.width, cs.height);
                pipe1.render();
                pipe2.render();
                pipe3.render();
                pipe4.render();
                pipe5.render();
            }, 30);
        }
    </script> -->
    <script src="js/Game.js"></script>
    <script src="js/Bird.js"></script>
    <script src="js/Land.js"></script>
    <script src="js/Pipe.js"></script>
    <script src="js/Sky.js"></script>
    <script type="text/javascript">
        var cs = document.querySelector('canvas');
        var ctx = cs.getContext('2d');
        var game = new Game({
            ctx: ctx
        });
    </script>
</body>

</html>
